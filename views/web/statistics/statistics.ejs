<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Statistics - LumenOne</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      .glass-card {
        background: rgba(31, 41, 55, 0.7);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
      }
      .gradient-bg {
        background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
      }
      .gradient-text {
        background: linear-gradient(135deg, #60a5fa, #3b82f6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      .stat-card {
        background: rgba(30, 41, 59, 0.5);
        border: 1px solid rgba(71, 85, 105, 0.2);
        transition: all 0.3s ease;
      }
      .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px -5px rgba(59, 130, 246, 0.2);
      }
      .text-muted {
        color: rgba(255, 255, 255, 0.6);
      }
    </style>
  </head>

  <%- include('../../components/sidebar') %>

  <body class="gradient-bg text-white min-h-screen flex flex-col sm:ml-64">
    <div class="flex-grow p-8">
      <div class="max-w-6xl mx-auto">
        <div class="flex items-center gap-4 mb-8">
          <a href="/web/statistics/list" class="btn-secondary p-2 rounded-lg">
            <i data-lucide="arrow-left" class="w-5 h-5"></i>
          </a>
          <h1 class="text-3xl font-bold gradient-text">example.com</h1>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
          <div class="stat-card rounded-xl p-6">
            <div class="flex items-center gap-3 mb-4">
              <div class="bg-blue-500/10 p-2 rounded-lg">
                <i data-lucide="users" class="w-5 h-5 text-blue-400"></i>
              </div>
              <h3 class="text-lg font-medium">Visits This Month</h3>
            </div>
            <p class="text-3xl font-bold"><%= visitCount %></p>
          </div>

          <div class="stat-card rounded-xl p-6">
            <div class="flex items-center gap-3 mb-4">
              <div class="bg-green-500/10 p-2 rounded-lg">
                <i data-lucide="file-text" class="w-5 h-5 text-green-400"></i>
              </div>
              <h3 class="text-lg font-medium">Page Views</h3>
            </div>
            <p class="text-3xl font-bold">SOON</p>
          </div>

          <div class="stat-card rounded-xl p-6">
            <div class="flex items-center gap-3 mb-4">
              <div class="bg-purple-500/10 p-2 rounded-lg">
                <i data-lucide="file" class="w-5 h-5 text-purple-400"></i>
              </div>
              <h3 class="text-lg font-medium">Total Files</h3>
            </div>
            <p class="text-3xl font-bold">SOON</p>
          </div>

          <div class="stat-card rounded-xl p-6">
            <div class="flex items-center gap-3 mb-4">
              <div class="bg-yellow-500/10 p-2 rounded-lg">
                <i data-lucide="users" class="w-5 h-5 text-yellow-400"></i>
              </div>
              <h3 class="text-lg font-medium">Total Visits</h3>
            </div>
            <p class="text-3xl font-bold">SOON</p>
          </div>
        </div>

        <div class="glass-card rounded-xl p-6 mb-6">
          <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-semibold">Monthly Visits</h2>
            <select
              class="bg-gray-800 border border-gray-700 rounded-lg px-3 py-1 text-sm"
            >
              <option>Last 30 days</option>
            </select>
          </div>
          <div class="h-80">
            <canvas id="visitsChart"></canvas>
          </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <div class="glass-card rounded-xl p-6">
            <h2 class="text-xl font-semibold mb-6">Top Pages</h2>
            <div class="space-y-4">
              <div
                class="flex justify-between items-center p-3 hover:bg-gray-800/30 rounded-lg transition"
              >
                <div class="flex items-center gap-3">
                  <div class="bg-blue-500/10 p-2 rounded-lg">
                    <i
                      data-lucide="file-text"
                      class="w-4 h-4 text-blue-400"
                    ></i>
                  </div>
                  <span>/index.html</span>
                </div>
                <span class="text-muted">1,024 visits</span>
              </div>
              <div
                class="flex justify-between items-center p-3 hover:bg-gray-800/30 rounded-lg transition"
              >
                <div class="flex items-center gap-3">
                  <div class="bg-blue-500/10 p-2 rounded-lg">
                    <i
                      data-lucide="file-text"
                      class="w-4 h-4 text-blue-400"
                    ></i>
                  </div>
                  <span>/products</span>
                </div>
                <span class="text-muted">872 visits</span>
              </div>
              <div
                class="flex justify-between items-center p-3 hover:bg-gray-800/30 rounded-lg transition"
              >
                <div class="flex items-center gap-3">
                  <div class="bg-blue-500/10 p-2 rounded-lg">
                    <i
                      data-lucide="file-text"
                      class="w-4 h-4 text-blue-400"
                    ></i>
                  </div>
                  <span>/about</span>
                </div>
                <span class="text-muted">645 visits</span>
              </div>
            </div>
          </div>

          <div class="glass-card rounded-xl p-6">
            <h2 class="text-xl font-semibold mb-6">Traffic Sources</h2>
            <div class="h-64">
              <canvas id="sourcesChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

    <%- include('../../components/footer') %>
    <script src="/js/sidebar.js"></script>
    <script>
      lucide.createIcons();

      // Initialize charts with static data
      function initCharts() {
        // Visits chart
        const visitsCtx = document
          .getElementById("visitsChart")
          .getContext("2d");
        new Chart(visitsCtx, {
          type: "line",
          data: {
            labels: ["1 Week", "2 Week", "3 Week", "4 Week"],
            datasets: [
              {
                label: "Visits",
                data: [120, 150, 180, 210],
                backgroundColor: "rgba(59, 130, 246, 0.2)",
                borderColor: "rgba(59, 130, 246, 0.8)",
                borderWidth: 2,
                tension: 0.4,
                fill: true,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false,
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  color: "rgba(255, 255, 255, 0.1)",
                },
                ticks: {
                  color: "rgba(255, 255, 255, 0.6)",
                },
              },
              x: {
                grid: {
                  color: "rgba(255, 255, 255, 0.1)",
                },
                ticks: {
                  color: "rgba(255, 255, 255, 0.6)",
                },
              },
            },
          },
        });

        // Sources chart
        const sourcesCtx = document
          .getElementById("sourcesChart")
          .getContext("2d");
        new Chart(sourcesCtx, {
          type: "doughnut",
          data: {
            labels: ["Direct", "Social", "Referral", "Search"],
            datasets: [
              {
                data: [35, 25, 20, 20],
                backgroundColor: [
                  "rgba(59, 130, 246, 0.8)",
                  "rgba(16, 185, 129, 0.8)",
                  "rgba(139, 92, 246, 0.8)",
                  "rgba(245, 158, 11, 0.8)",
                ],
                borderWidth: 0,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "right",
                labels: {
                  color: "rgba(255, 255, 255, 0.8)",
                },
              },
            },
            cutout: "70%",
          },
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        initCharts();
      });
    </script>
  </body>
</html>
